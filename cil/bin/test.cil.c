/* Generated by CIL v. 1.5.1 */
/* print_CIL_Input is true */

#line 6 "test.h"
typedef unsigned int unint32;
#line 15
void B_IntTms(void) ;
#line 16
void B_IemsTask(void) ;
#line 17
void B_SendTmsData(void) ;
#line 18
void B_TmPack(void) ;
#line 5 "test.c"
unint32 G_tmsDataBuf[2][256]  ;
#line 6 "test.c"
unint32 G_tmsTestBuf[256]  ;
#line 7 "test.c"
unint32 G_cntTmsSend  ;
#line 8 "test.c"
unint32 G_tmsPingPong  ;
#line 10 "test.c"
unint32 G_bTmsPack  ;
#line 11 "test.c"
unint32 G_cntTmsInterrupt  ;
#line 19 "test.c"
void B_IntTms(void) 
{ 


  {
#line 21
  if (G_bTmsPack == 1U) {
#line 23
    G_cntTmsInterrupt = (unint32 )0;
  }
#line 26
  G_cntTmsSend = (unint32 )36;
#line 28
  G_tmsPingPong = (G_tmsPingPong ^ 1U) & 1U;
#line 30
  *((int volatile   *)285214476) = (int volatile   )32;
#line 33
  *((int volatile   *)285214572) = (int volatile   )G_tmsDataBuf[G_tmsPingPong][0];
#line 35
  return;
}
}
#line 38 "test.c"
void B_IemsTask(void) 
{ 


  {
#line 40
  B_SendTmsData();
#line 42
  if (G_cntTmsInterrupt == 0U) {
#line 44
    G_bTmsPack = (unint32 )449838109;
#line 45
    G_cntTmsInterrupt ++;
  } else
#line 47
  if (G_cntTmsInterrupt < 7U) {
#line 49
    if (G_cntTmsInterrupt == 6U) {
#line 51
      G_bTmsPack = (unint32 )0;
#line 53
      B_TmPack();
    }
#line 55
    G_cntTmsInterrupt ++;
  }
#line 62
  return;
}
}
#line 66 "test.c"
void B_SendTmsData(void) 
{ 
  unint32 i ;
  unint32 tmsLeftLen ;
  unint32 fifoEmptyLen ;
  unint32 sendLen ;
  unint32 tmp ;

  {
#line 73
  tmsLeftLen = 256U - G_cntTmsSend;
#line 74
  fifoEmptyLen = (unint32 )(128 - (int )(*((int volatile   *)285214568) & (int volatile   )255));
#line 76
  if (tmsLeftLen > 0U) {
#line 78
    if (tmsLeftLen < fifoEmptyLen) {
#line 78
      sendLen = tmsLeftLen;
    } else {
#line 78
      sendLen = fifoEmptyLen;
    }
#line 80
    i = (unint32 )0;
#line 80
    while (i < sendLen) {
#line 82
      tmp = G_cntTmsSend;
#line 82
      G_cntTmsSend ++;
#line 82
      *((int volatile   *)285214572) = (int volatile   )G_tmsDataBuf[G_tmsPingPong][tmp];
#line 80
      i ++;
    }
  }
#line 90
  return;
}
}
#line 94 "test.c"
void B_TmPack(void) 
{ 
  unint32 i ;
  unint32 tmpPingPang ;

  {
#line 100
  tmpPingPang = (G_tmsPingPong ^ 1U) & 1U;
#line 102
  i = (unint32 )4;
#line 102
  while (i < 256U) {
#line 104
    G_tmsDataBuf[tmpPingPang][i] = G_tmsTestBuf[i];
#line 102
    i ++;
  }
#line 107
  return;
}
}
